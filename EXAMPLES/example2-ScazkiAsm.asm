PUSH 9
PUSH 3
PUSH 3
MUL
SUB
POPMA 0
IN
POPMA 0
CALL :factorial
POPMA 1
PUSHMA 1
OUT
HLT

:factorial
PUSH 9
PUSH 3
DIV
PUSH 3
DIV
POPMA 2
PUSH 9
PUSH 3
DIV
PUSH 3
DIV
POPMA 3

:0
PUSHMA 2
PUSHMA 0
LE
PUSH 0
JBE :1
PUSHMA 3
PUSHMA 2
MUL
POPMA 3
PUSHMA 2
PUSH 9
PUSH 3
DIV
PUSH 3
DIV
ADD
POPMA 2
JMP :0
:1

PUSHMA 3
RET
